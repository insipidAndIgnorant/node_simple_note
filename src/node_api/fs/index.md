# fs 文件系统
`fs` 模块提供了一个 API，用于以模仿标准 POSIX 函数的方式与文件系统进行交互

## 文件路径
大多数 `fs` 操作接受的文件路径可以指定为字符串、`Buffer`、或使用 `file:` 协议的 URL 对象。

字符串形式的路径被解析为标识绝对或相对文件名的 UTF-8 字符序列。 相对路径将相对于 `process.cwd()` 指定的当前工作目录进行解析。

使用 `Buffer` 指定的路径主要用于将文件路径视为不透明字节序列的某些 POSIX 操作系统。 在这样的系统上，单个文件路径可以包含使用多种字符编码的子序列。 与字符串路径一样， `Buffer` 路径可以是相对路径或绝对路径

## URL 对象的支持
对于大多数 `fs` 模块的函数， `path` 或 `filename` 参数可以传入 WHATWG URL 对象。 仅支持使用 `file:` 协议的 URL 对象。

`file:` URL 始终是绝对路径

在 Windows 上，带有主机名的 `file:` URL 转换为 UNC 路径，而带有驱动器号的 `file:` URL 转换为本地绝对路径。 没有主机名和驱动器号的 `file:` URL 将导致抛出错误。
带有驱动器号的 `file:` URL 必须使用 `:` 作为驱动器号后面的分隔符。 使用其他分隔符将导致抛出错误。

在所有其他平台上，不支持带有主机名的 `file:` URL，使用时将导致抛出错误。
包含编码后的斜杆字符（`%2F`）的 `file:` URL 在所有平台上都将导致抛出错误。
在 Windows 上，包含编码后的反斜杆字符（`%5C`）的 `file:` URL 将导致抛出错误。

## 文件描述符
在 POSIX 系统上，对于每个进程，内核都维护着一张当前打开着的文件和资源的表格。 每个打开的文件都分配了一个称为文件描述符的简单的数字标识符。 在系统层，所有文件系统操作都使用这些文件描述符来标识和跟踪每个特定的文件。 Windows 系统使用了一个虽然不同但概念上类似的机制来跟踪资源。 为了简化用户的工作，Node.js 抽象出操作系统之间的特定差异，并为所有打开的文件分配一个数字型的文件描述符。

大多数操作系统限制在任何给定时间内可能打开的文件描述符的数量，因此当操作完成时关闭描述符至关重要。 如果不这样做将导致内存泄漏，最终导致应用程序崩溃。
<br/><br/><br/>



## fs.Dir 类
代表目录流的类。由 `fs.opendir()`、`fs.opendirSync()` 或 `fsPromises.opendir()` 创建。

### **dir.close()**
异步地关闭目录的底层资源句柄。 随后的读取将会导致错误。
返回一个 Promise，将会在关闭资源之后被解决。

